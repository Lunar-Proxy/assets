name: Move Directories to Specific Branches

on:
  push:
    branches: [main]

jobs:
  move-directories:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Move img directory to images branch
        run: |
          git checkout -b images || git checkout images
          git fetch origin main
          git merge origin/main
          git rm -rf .
          mv img .
          git add .
          git commit -m "Move img directory to images branch"
          git push

      - name: Move json directory to json branch
        run: |
          git checkout -b json || git checkout json
          git fetch origin main
          git merge origin/main
          git rm -rf .
          mv json .
          git add .
          git commit -m "Move json directory to json branch"
          git push
